
# This file has been generated at Thu Oct 29 16:39:04 2009

from openalea.core import *


__name__ = 'alinea.Caribu.Sky_tools'

__editable__ = True
__description__ = 'utilities for genertaing light files'
__license__ = ''
__url__ = ''
__alias__ = ['Caribu.Sky_tools']
__version__ = '0.2.0'
__authors__ = 'G Louarn, C Fournier'
__institutes__ = 'INRA'
__icon__ = 'sky.png'


__all__ = ['Normalise_Sky_Normalise_Sky', 'mergeNskies_mergeNskies', '_65577936', 'GenSky_GenSky', 'merge2skies_merge2skies', 'GetLight_GetLight', 'get_meteo_dat_get_meteo_dat', 'GenSkyFile', '_65577424', '_65577552', 'Genlight_Genlight', 'Filename_Filename', 'GetLightsSun_GetLightsSun', 'group_seq_group_seq', 'Gensun_Gensun', 'place_sun_place_sun', 'SkyPlusSun', 'spitters_horaire_spitters_horaire', '_65577712', 'read_meteo_file_read_meteo_file']



Normalise_Sky_Normalise_Sky = Factory(name='Normalise_Sky',
                description='Set Rs to 1 - intensity repartition by sectors remains unchanged ',
                category='scene.sky',
                nodemodule='Normalise_Sky',
                nodeclass='Normalise_Sky',
                inputs=[{'interface': None, 'name': 'Sky', 'value': None, 'desc': ''}],
                outputs=[{'interface': None, 'name': 'Normalised Sky', 'desc': ''}],
                widgetmodule=None,
                widgetclass=None,
               )




mergeNskies_mergeNskies = Factory(name='mergeNskies',
                description='',
                category='scene.sky',
                nodemodule='mergeNskies',
                nodeclass='mergeNskies',
                inputs=[{'interface': ISequence, 'name': 'list of sky objects', 'value': None}],
                outputs=[{'interface': None, 'name': 'sky object'}],
                widgetmodule=None,
                widgetclass=None,
               )




_65577936 = CompositeNodeFactory(name='gensky_group',
                             description='create a sky object from a group (day/week...) of meteo data',
                             category='composite, scene.sky',
                             doc='',
                             inputs=[  {'interface': None, 'name': 'meteo table', 'value': None},
   {'interface': IInt, 'name': 'Data group', 'value': 0},
   {'interface': IFloat, 'name': 'Latitude', 'value': 49.869999999999997},
   {'interface': IInt, 'name': 'Nb azimut', 'value': 8},
   {'interface': IInt, 'name': 'Nb zenith', 'value': 6},
   {  'interface': IEnumStr(enum=['soc', 'uoc']),
      'name': 'Sky Type',
      'value': 'soc'}],
                             outputs=[{'interface': None, 'name': 'sky object'}],
                             elt_factory={  19: ('Caribu.Sky_tools', 'group_seq'),
   20: ('catalog.functional', 'map'),
   21: ('system', 'annotation'),
   22: ('system', 'X'),
   23: ('Caribu.Sky_tools', 'gensky'),
   24: ('Caribu.Sky_tools', 'mergeNskies'),
   27: ('Caribu.Sky_tools', 'gensun'),
   28: ('Caribu.Sky_tools', 'place_sun'),
   29: ('Caribu.Sky_tools', 'merge2skies'),
   35: ('system', 'annotation'),
   39: ('Caribu.Sky_tools', 'GetLight'),
   40: ('Caribu.Sky_tools', 'get_meteo_dat')},
                             elt_connections={  9853364: (39, 0, '__out__', 0),
   9853376: ('__in__', 3, 23, 2),
   9853388: ('__in__', 2, 27, 3),
   9853400: (29, 0, 20, 0),
   9853412: ('__in__', 0, 40, 0),
   9853424: ('__in__', 4, 28, 1),
   9853436: (28, 0, 29, 1),
   9853448: ('__in__', 4, 23, 3),
   9853460: ('__in__', 3, 28, 0),
   9853472: (24, 0, 39, 0),
   9853484: ('__in__', 5, 23, 1),
   9853496: (20, 0, 24, 0),
   9853508: ('__in__', 1, 40, 1),
   9853520: (40, 1, 27, 0),
   9853532: (40, 0, 23, 0),
   9853544: (40, 3, 27, 2),
   9853556: (40, 2, 27, 1),
   9853568: (22, 0, 40, 2),
   9853580: ('__in__', 1, 19, 1),
   9853592: (27, 0, 28, 2),
   9853604: ('__in__', 0, 19, 0),
   9853616: (23, 0, 29, 0),
   9853628: (19, 0, 20, 1)},
                             elt_data={  19: {  'caption': 'group_seq',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 399.57655356452835,
          'posy': 267.97705572824293,
          'priority': 0,
          'user_application': None},
   20: {  'caption': 'map',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 103.88966289629791,
          'posy': 725.49640400063367,
          'priority': 0,
          'user_application': None},
   21: {'posx': 531.4115809337253, 'posy': 263.83566144122176, 'txt': 'Loop'},
   22: {  'caption': 'X0',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 14.697764581779495,
          'posy': 214.43029197549356,
          'priority': 0,
          'user_application': None},
   23: {  'caption': 'gensky',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': -26.354472551339228,
          'posy': 454.77270740385052,
          'priority': 0,
          'user_application': None},
   24: {  'caption': 'mergeNskies',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 65.67614721288831,
          'posy': 792.94729987355936,
          'priority': 0,
          'user_application': None},
   27: {  'caption': 'gensun',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 81.824607038104162,
          'posy': 453.47548937610122,
          'priority': 0,
          'user_application': None},
   28: {  'caption': 'place_sun',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 203.06641327232089,
          'posy': 541.45558364895567,
          'priority': 0,
          'user_application': None},
   29: {  'caption': 'merge2skies',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 58.162125504377443,
          'posy': 627.12524536087244,
          'priority': 0,
          'user_application': None},
   35: {  'posx': 78.389450859440245,
          'posy': 944.99057552404793,
          'txt': 'sky object'},
   39: {  'caption': 'GetLight',
          'hide': True,
          'lazy': True,
          'port_hide_changed': set([]),
          'posx': 160.0,
          'posy': 851.25,
          'priority': 0,
          'user_application': None},
   40: {  'caption': 'get_meteo_dat',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': -124.10163246009239,
          'posy': 271.90920726057959,
          'priority': 0,
          'user_application': None},
   '__in__': {  'caption': 'In',
                'hide': True,
                'lazy': True,
                'minimal': False,
                'port_hide_changed': set([]),
                'posx': 52.014842447475644,
                'posy': 90.913778259048627,
                'priority': 0},
   '__out__': {  'caption': 'Out',
                 'hide': True,
                 'lazy': True,
                 'minimal': False,
                 'port_hide_changed': set([]),
                 'posx': 332.09716116026755,
                 'posy': 875.82553975497467,
                 'priority': 0}},
                             elt_value={  19: [],
   20: [],
   21: [],
   22: [(0, "'x'")],
   23: [],
   24: [],
   27: [],
   28: [],
   29: [],
   35: [],
   39: [],
   40: [],
   '__in__': [],
   '__out__': []},
                             lazy=True,
                             )




GenSky_GenSky = Factory(name='gensky',
                description='Create a discretised sky',
                category='scene.light',
                nodemodule='GenSky',
                nodeclass='GenSky',
                inputs=[{'interface': IFloat, 'name': 'Global Energy', 'value': 1.0}, {'interface': IEnumStr(enum=['soc', 'uoc']), 'name': 'Sky type', 'value': 'soc'}, {'interface': IInt, 'name': 'Nb azimut', 'value': 8}, {'interface': IInt, 'name': 'Nb zenith', 'value': 6}],
                outputs=[{'interface': ISequence, 'name': 'sky'}],
                widgetmodule=None,
                widgetclass=None,
               )




merge2skies_merge2skies = Factory(name='merge2skies',
                description='add light souces of two skies having similar discretisations',
                category='codec,scene.sky',
                nodemodule='merge2skies',
                nodeclass='merge2skies',
                inputs=[{'interface': None, 'name': 'Sky object1', 'value': None}, {'interface': None, 'name': 'Sky object2', 'value': None}],
                outputs=[{'interface': None, 'name': 'Sky object'}],
                widgetmodule=None,
                widgetclass=None,
               )




GetLight_GetLight = Factory(name='GetLight',
                description='Get the incident light and the coordinates of sky sectors ',
                category='io,scene.light',
                nodemodule='GetLight',
                nodeclass='GetLight',
                inputs=[{'interface': None, 'name': 'SkyObject', 'value': None, 'desc': ''}],
                outputs=[{'interface': IStr, 'name': 'LightString', 'desc': ''}],
                widgetmodule=None,
                widgetclass=None,
               )




get_meteo_dat_get_meteo_dat = Factory(name='get_meteo_dat',
                description='',
                category='IO,scene.sky',
                nodemodule='get_meteo_dat',
                nodeclass='get_meteo_dat',
                inputs=[{'interface': None, 'name': 'meteo table', 'value': None}, {'interface': IInt, 'name': 'group', 'value': 0}, {'interface': IInt, 'name': 'indice', 'value': 1}],
                outputs=[{'interface': IFloat, 'name': 'Rd'}, {'interface': IFloat, 'name': 'Rsun'}, {'interface': IInt, 'name': 'DOY'}, {'interface': None, 'name': 'HU'}],
                widgetmodule=None,
                widgetclass=None,
               )




GenSkyFile = CompositeNodeFactory(name='GenSkyFile',
                             description='Generate one light file from one group number (one day for example)',
                             category='scene.sky',
                             doc='',
                             inputs=[  {'desc': '', 'interface': None, 'name': 'meteo table', 'value': None},
   {'desc': '', 'interface': IInt, 'name': 'Data group', 'value': None},
   {  'desc': '',
      'interface': IEnumStr(enum=['soc', 'uoc']),
      'name': 'Sky type',
      'value': 'soc'},
   {'desc': '', 'interface': IInt, 'name': 'Nb Azimut', 'value': None},
   {'desc': '', 'interface': IInt, 'name': 'Nb Zenith', 'value': None},
   {'desc': '', 'interface': IFloat, 'name': 'Latitude', 'value': None}],
                             outputs=[{'desc': '', 'interface': None, 'name': 'OUT'}],
                             elt_factory={  2: ('alinea.Caribu.Sky_tools', 'gensky_rg'),
   3: ('alinea.Caribu.Sky_tools', 'get_meteo_dat'),
   4: ('openalea.functional', 'map'),
   5: ('alinea.Caribu.Sky_tools', 'write_light_file'),
   6: ('alinea.Caribu.Sky_tools', 'mergeNskies'),
   7: ('system', 'X'),
   8: ('alinea.Caribu.Sky_tools', 'group_seq'),
   14: ('alinea.Caribu.Sky_tools', 'Filename')},
                             elt_connections={  10901920: ('__in__', 1, 8, 1),
   10901932: ('__in__', 0, 8, 0),
   10901944: ('__in__', 5, 2, 7),
   10901956: (4, 0, 6, 0),
   10901968: (6, 0, 5, 0),
   10901980: (14, 0, 5, 1),
   10901992: ('__in__', 1, 3, 1),
   10902004: ('__in__', 3, 2, 2),
   10902016: (8, 0, 4, 1),
   10902028: (3, 2, 2, 5),
   10902040: (5, 0, '__out__', 0),
   10902052: ('__in__', 1, 14, 0),
   10902064: (2, 0, 4, 0),
   10902076: (7, 0, 3, 2),
   10902088: ('__in__', 4, 2, 3),
   10902100: ('__in__', 0, 3, 0),
   10902112: (3, 1, 2, 4),
   10902124: (3, 3, 2, 6),
   10902136: (3, 0, 2, 0),
   10902148: ('__in__', 2, 2, 1)},
                             elt_data={  2: {  'block': False,
         'caption': 'gensky_rg',
         'hide': True,
         'lazy': True,
         'port_hide_changed': set([]),
         'posx': 402.5,
         'posy': 405.0,
         'priority': 0,
         'user_application': None},
   3: {  'block': False,
         'caption': 'get_meteo_dat',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 277.96152155605751,
         'posy': 280.428430779368,
         'priority': 0,
         'user_application': None},
   4: {  'block': False,
         'caption': 'map',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 569.71682170156009,
         'posy': 500.89921174749065,
         'priority': 0,
         'user_application': None},
   5: {  'block': False,
         'caption': 'write_light_file',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 589.90072766993171,
         'posy': 676.80004395425067,
         'priority': 0,
         'user_application': None},
   6: {  'block': False,
         'caption': 'mergeNskies',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 553.64768182558737,
         'posy': 573.81053812475989,
         'priority': 0,
         'user_application': None},
   7: {  'block': False,
         'caption': 'X0',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 358.84064693745358,
         'posy': 230.07382929045775,
         'priority': 0,
         'user_application': None},
   8: {  'block': False,
         'caption': 'group_seq',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 622.85861433207037,
         'posy': 401.3238292904573,
         'priority': 0,
         'user_application': None},
   14: {  'block': False,
          'caption': 'Filename',
          'hide': True,
          'lazy': True,
          'port_hide_changed': set([]),
          'posx': 775.0,
          'posy': 566.25,
          'priority': 0,
          'user_application': None},
   '__in__': {  'caption': 'In',
                'hide': True,
                'lazy': True,
                'port_hide_changed': set([]),
                'posx': 347.5,
                'posy': 8.75,
                'priority': 0,
                'user_application': None},
   '__out__': {  'caption': 'Out',
                 'hide': True,
                 'lazy': True,
                 'port_hide_changed': set([]),
                 'posx': 631.25,
                 'posy': 740.0,
                 'priority': 0,
                 'user_application': None}},
                             elt_value={  2: [],
   3: [],
   4: [],
   5: [],
   6: [],
   7: [(0, "'x'")],
   8: [],
   14: [],
   '__in__': [],
   '__out__': []},
                             lazy=True,
                             )




_65577424 = CompositeNodeFactory(name='essai1_loop',
                             description='',
                             category='Unclassified',
                             doc='',
                             inputs=[],
                             outputs=[],
                             elt_factory={  2: ('openalea.flow control', 'annotation'),
   3: ('openalea.flow control', 'annotation'),
   4: ('openalea.data structure', 'float'),
   5: ('openalea.flow control', 'annotation'),
   6: ('openalea.flow control', 'annotation'),
   7: ('openalea.data structure', 'int'),
   8: ('openalea.flow control', 'annotation'),
   9: ('alinea.Caribu.Sky_tools', 'spitters_horaire'),
   10: ('alinea.Caribu.Sky_tools', 'write_light_file'),
   11: ('alinea.Caribu.Sky_tools', 'gensky_group'),
   12: ('alinea.Caribu.Sky_tools', 'read_meteo_file'),
   13: ('openalea.flow control', 'annotation'),
   14: ('alinea.Caribu.Sky_tools', 'write_light_file'),
   15: ('alinea.Caribu.Sky_tools', 'mergeNskies'),
   16: ('openalea.flow control', 'annotation'),
   17: ('openalea.flow control', 'annotation'),
   18: ('alinea.Caribu.Sky_tools', 'read_meteo_file'),
   19: ('alinea.caribu.data', 'Rg_2J.csv'),
   20: ('openalea.function operator', 'map'),
   21: ('openalea.flow control', 'annotation'),
   22: ('openalea.flow control', 'X'),
   23: ('alinea.Caribu.Sky_tools', 'gensky'),
   24: ('alinea.Caribu.Sky_tools', 'mergeNskies'),
   25: ('alinea.Caribu.Sky_tools', 'write_light_file'),
   26: ('alinea.Caribu.Sky_tools', 'gensky_rg'),
   27: ('alinea.Caribu.Sky_tools', 'gensun'),
   28: ('alinea.Caribu.Sky_tools', 'place_sun'),
   29: ('alinea.Caribu.Sky_tools', 'merge2skies'),
   30: ('alinea.Caribu.Sky_tools', 'spitters_horaire'),
   31: ('openalea.data structure', 'float'),
   32: ('openalea.data structure', 'int'),
   33: ('openalea.data structure', 'int'),
   34: ('openalea.flow control', 'annotation'),
   35: ('openalea.flow control', 'annotation'),
   36: ('alinea.Caribu.Sky_tools', 'get_meteo_dat'),
   37: ('openalea.function operator', 'map'),
   38: ('alinea.Caribu.Sky_tools', 'read_meteo_file'),
   39: ('alinea.Caribu.Sky_tools', 'group_seq'),
   40: ('alinea.Caribu.Sky_tools', 'get_meteo_dat'),
   41: ('openalea.flow control', 'X'),
   42: ('openalea.data structure', 'int'),
   43: ('alinea.Caribu.Sky_tools', 'group_seq')},
                             elt_connections={  9854832: (19, 0, 18, 0),
   9854844: (32, 0, 23, 2),
   9854856: (38, 0, 39, 0),
   9854868: (20, 0, 24, 0),
   9854880: (22, 0, 40, 2),
   9854892: (40, 0, 23, 0),
   9854904: (24, 0, 25, 0),
   9854916: (33, 0, 28, 1),
   9854928: (41, 0, 36, 2),
   9854940: (36, 1, 26, 4),
   9854952: (30, 0, 40, 0),
   9854964: (18, 0, 30, 0),
   9854976: (43, 0, 20, 1),
   9854988: (7, 0, 40, 1),
   9855000: (37, 0, 15, 0),
   9855012: (29, 0, 20, 0),
   9855024: (31, 0, 27, 3),
   9855036: (31, 0, 30, 1),
   9855048: (38, 0, 36, 0),
   9855060: (42, 0, 39, 1),
   9855072: (11, 0, 10, 0),
   9855084: (40, 1, 27, 0),
   9855096: (33, 0, 23, 3),
   9855108: (36, 2, 26, 5),
   9855120: (40, 2, 27, 1),
   9855132: (26, 0, 37, 0),
   9855144: (23, 0, 29, 0),
   9855156: (12, 0, 11, 0),
   9855168: (15, 0, 14, 0),
   9855180: (27, 0, 28, 2),
   9855192: (4, 0, 9, 1),
   9855204: (30, 0, 43, 0),
   9855216: (32, 0, 28, 0),
   9855228: (36, 3, 26, 6),
   9855240: (4, 0, 11, 2),
   9855252: (7, 0, 43, 1),
   9855264: (39, 0, 37, 1),
   9855276: (40, 3, 27, 2),
   9855288: (28, 0, 29, 1),
   9855300: (36, 0, 26, 0)},
                             elt_data={  2: {  'posx': -77.291014019941002,
         'posy': 87.596482555933164,
         'txt': 'Data Group'},
   3: {  'posx': 2207.0406429610161,
         'posy': 379.23107941447529,
         'txt': 'Pourquoi boucle pas?'},
   4: {  'block': False,
         'caption': '49.9',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 1275.9049110215085,
         'posy': 167.42643628789031,
         'priority': 0,
         'user_application': None},
   5: {  'posx': 1035.3496864699432,
         'posy': 292.51515305470519,
         'txt': 'Spitters optionnel si fichier meteo ne contient pas RdRg'},
   6: {  'posx': 819.81220527173832,
         'posy': 577.33253892375967,
         'txt': 'Le meme graph avec un noeud composite incluant la boucle'},
   7: {  'block': False,
         'caption': '0',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': -39.504296054636512,
         'posy': 121.53431692841269,
         'priority': 0,
         'user_application': None},
   8: {  'posx': 334.92772741974437,
         'posy': 87.596482555933136,
         'txt': 'Zenith Nb'},
   9: {  'block': False,
         'caption': 'spitters_horaire',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 1031.5008028771172,
         'posy': 244.40410814439156,
         'priority': 0,
         'user_application': None},
   10: {  'block': False,
          'caption': 'write_light_file',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 1019.9541520986422,
          'posy': 486.88377449237061,
          'priority': 0,
          'user_application': None},
   11: {  'block': False,
          'caption': 'gensky_group',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 996.86085054169166,
          'posy': 394.51056826456914,
          'priority': 0,
          'user_application': None},
   12: {  'block': False,
          'caption': 'read_meteo_file',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 935.27871305649091,
          'posy': 128.93760035963967,
          'priority': 0,
          'user_application': None},
   13: {  'posx': 2077.1043182774342,
          'posy': 437.88202752894426,
          'txt': 'Loop marche pas avec composite node incluant que partiellement la boucle'},
   14: {  'block': False,
          'caption': 'write_light_file',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 1893.6507276699317,
          'posy': 775.55004395425067,
          'priority': 0,
          'user_application': None},
   15: {  'block': False,
          'caption': 'mergeNskies',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 1876.1476818255874,
          'posy': 680.06053812475989,
          'priority': 0,
          'user_application': None},
   16: {  'posx': 199.23905836251464,
          'posy': 85.878904466601114,
          'txt': 'Azimut Nb'},
   17: {  'posx': 75.57343593060898,
          'posy': 89.314060645265158,
          'txt': 'Latitude'},
   18: {  'block': False,
          'caption': 'read_meteo_file',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': -322.59513887116083,
          'posy': 134.22161690800772,
          'priority': 0,
          'user_application': None},
   19: {  'block': False,
          'caption': 'Rg_2J.csv',
          'hide': True,
          'lazy': True,
          'port_hide_changed': set([2]),
          'posx': -367.5,
          'posy': 52.5,
          'priority': 0,
          'user_application': None},
   20: {  'block': False,
          'caption': 'map',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': -123.92908173502826,
          'posy': 723.74395211885417,
          'priority': 0,
          'user_application': None},
   21: {'posx': 448.8518972098492, 'posy': 342.04871350782417, 'txt': 'Loop'},
   22: {  'block': False,
          'caption': 'X0',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 371.78108868454393,
          'posy': 276.3339209692648,
          'priority': 0,
          'user_application': None},
   23: {  'block': False,
          'caption': 'gensky',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': -254.17321718266541,
          'posy': 453.02025552207101,
          'priority': 0,
          'user_application': None},
   24: {  'block': False,
          'caption': 'mergeNskies',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': -158.63769365487903,
          'posy': 789.44239611000035,
          'priority': 0,
          'user_application': None},
   25: {  'block': False,
          'caption': 'write_light_file',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': -142.04499617132535,
          'posy': 851.61642138917978,
          'priority': 0,
          'user_application': None},
   26: {  'block': False,
          'caption': 'gensky_rg',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 1824.620339145627,
          'posy': 441.31718370760859,
          'priority': 0,
          'user_application': None},
   27: {  'block': False,
          'caption': 'gensun',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': -145.99413759322201,
          'posy': 451.72303749432172,
          'priority': 0,
          'user_application': None},
   28: {  'block': False,
          'caption': 'place_sun',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': -89.314060645265045,
          'posy': 530.73162960359491,
          'priority': 0,
          'user_application': None},
   29: {  'block': False,
          'caption': 'merge2skies',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': -188.93358982652248,
          'posy': 616.61053407019585,
          'priority': 0,
          'user_application': None},
   30: {  'block': False,
          'caption': 'spitters_horaire',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': -298.85858754377193,
          'posy': 233.59062014915503,
          'priority': 0,
          'user_application': None},
   31: {  'block': False,
          'caption': '49.9',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 79.008592109272996,
          'posy': 123.6656224319056,
          'priority': 0,
          'user_application': None},
   32: {  'block': False,
          'caption': '10',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 233.59062014915528,
          'posy': 127.10077861056931,
          'priority': 0,
          'user_application': None},
   33: {  'block': False,
          'caption': '6',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 365.84413302772066,
          'posy': 123.66562243190563,
          'priority': 0,
          'user_application': None},
   34: {  'posx': -260.42343136510772,
          'posy': 62.911326377269091,
          'txt': 'Meteo file'},
   35: {  'posx': -130.53593478923369,
          'posy': 917.18669970329984,
          'txt': '.light file adress'},
   36: {  'block': False,
          'caption': 'get_meteo_dat',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 1850.3840104856067,
          'posy': 321.08671745436709,
          'priority': 0,
          'user_application': None},
   37: {  'block': False,
          'caption': 'map',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 1912.2168217015601,
          'posy': 595.89921174749065,
          'priority': 0,
          'user_application': None},
   38: {  'block': False,
          'caption': 'read_meteo_file',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 1802.2918239843107,
          'posy': 113.25976864519259,
          'priority': 0,
          'user_application': None},
   39: {  'block': False,
          'caption': 'group_seq',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 2116.6086143320704,
          'posy': 202.5738292904573,
          'priority': 0,
          'user_application': None},
   40: {  'block': False,
          'caption': 'get_meteo_dat',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': -298.28847844394249,
          'posy': 332.928430779368,
          'priority': 0,
          'user_application': None},
   41: {  'block': False,
          'caption': 'X0',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 2051.3406469374536,
          'posy': 202.57382929045775,
          'priority': 0,
          'user_application': None},
   42: {  'block': False,
          'caption': '0',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 2171.5711131906951,
          'posy': 106.38945628786439,
          'priority': 0,
          'user_application': None},
   43: {  'block': False,
          'caption': 'group_seq',
          'hide': True,
          'lazy': True,
          'minimal': False,
          'port_hide_changed': set([]),
          'posx': 284.81738586905465,
          'posy': 396.43501006098165,
          'priority': 0,
          'user_application': None},
   '__in__': {  'caption': 'In',
                'hide': True,
                'lazy': True,
                'minimal': False,
                'port_hide_changed': set([]),
                'posx': 20.0,
                'posy': 5.0,
                'priority': 0},
   '__out__': {  'caption': 'Out',
                 'hide': True,
                 'lazy': True,
                 'minimal': False,
                 'port_hide_changed': set([]),
                 'posx': 20.0,
                 'posy': 250.0,
                 'priority': 0}},
                             elt_value={  2: [],
   3: [],
   4: [(0, '49.869999999999997')],
   5: [],
   6: [],
   7: [(0, '0')],
   8: [],
   9: [  (  0,
            "[[['DOY', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140', '140'], ['heure', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24'], ['Rg', '0', '0', '0', '5.6', '22.2', '111.1', '194.4', '200', '111.1', '122.2', '105.6', '127.8', '200', '194.4', '155.6', '177.8', '116.7', '88.9', '38.9', '5.6', '0', '0', '0', '0'], ['RdRg', '1', '1', '1', '1', '1', '0.938276879417', '0.895532639469', '0.987002220006', '1', '1', '1', '1', '1', '1', '1', '0.998433844401', '1', '0.992328719347', '0.977444821574', '1', '1', '1', '1', '1'], ['Group', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0']], [['DOY', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144', '144'], ['heure', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24'], ['Rg', '0', '0', '0', '5.6', '50', '188.9', '377.8', '566.7', '722.2', '850', '927.8', '961.1', '944.4', '866.7', '744.4', '594.4', '422.2', '238.9', '94.4', '11.1', '0', '0', '0', '0'], ['RdRg', '1', '1', '1', '1', '0.929692936218', '0.604687524407', '0.371254924416', '0.266217975044', '0.230062865292', '0.22426349918', '0.230370015937', '0.234174461391', '0.230370015937', '0.22426349918', '0.230062865292', '0.266217975044', '0.34912011983', '0.486939540381', '0.675371364287', '1', '1', '1', '1', '1'], ['Group', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1']]]")],
   10: [(1, "'sky.light'")],
   11: [(1, '0'), (3, '8'), (4, '6'), (5, "'soc'")],
   12: [(0, "'C:/Documents and Settings/Karine/ex_RdRg_2J.csv'")],
   13: [],
   14: [(1, "'sky.light'")],
   15: [],
   16: [],
   17: [],
   18: [],
   19: [  (0, 'PackageData(alinea.caribu.data, Rg_2J.csv)'),
          (1, 'None'),
          (2, 'None')],
   20: [],
   21: [],
   22: [(0, "'x'")],
   23: [(1, "'soc'")],
   24: [],
   25: [(1, "'sky.light'")],
   26: [(1, "'soc'"), (2, '12'), (3, '6'), (7, '49.869999999999997')],
   27: [],
   28: [],
   29: [],
   30: [],
   31: [(0, '49.869999999999997')],
   32: [(0, '10')],
   33: [(0, '6')],
   34: [],
   35: [],
   36: [(1, '0')],
   37: [],
   38: [(0, "'C:/Documents and Settings/Karine/ex_RdRg_2J.csv'")],
   39: [],
   40: [],
   41: [(0, "'x'")],
   42: [(0, '0')],
   43: [],
   '__in__': [],
   '__out__': []},
                             lazy=True,
                             )




_65577552 = CompositeNodeFactory(name='gensky_rg',
                             description='generates and merges direct and diffuse components',
                             category='scene.light',
                             doc='',
                             inputs=[  {'interface': IFloat, 'name': 'Rd', 'value': 1.0},
   {  'interface': IEnumStr(enum=['soc', 'uoc']),
      'name': 'Sky Type',
      'value': 'soc'},
   {'interface': IInt, 'name': 'Nb azi', 'value': 12},
   {'interface': IInt, 'name': 'Nb zen', 'value': 6},
   {'interface': IFloat, 'name': 'Rsun', 'value': 0.0},
   {'interface': IInt, 'name': 'DOY', 'value': 1},
   {'interface': IInt, 'name': 'HU', 'value': 12},
   {'interface': IFloat, 'name': 'latitude', 'value': 49.869999999999997}],
                             outputs=[{'interface': None, 'name': 'sky object'}],
                             elt_factory={  2: ('Caribu.Sky_tools', 'gensky'),
   3: ('Caribu.Sky_tools', 'gensun'),
   4: ('Caribu.Sky_tools', 'place_sun'),
   5: ('Caribu.Sky_tools', 'merge2skies')},
                             elt_connections={  10967368: ('__in__', 1, 2, 1),
   10967380: ('__in__', 2, 2, 2),
   10967392: (2, 0, 5, 0),
   10967404: ('__in__', 6, 3, 2),
   10967416: ('__in__', 3, 4, 1),
   10967428: (5, 0, '__out__', 0),
   10967440: ('__in__', 4, 3, 0),
   10967452: (4, 0, 5, 1),
   10967464: (3, 0, 4, 2),
   10967476: ('__in__', 0, 2, 0),
   10967488: ('__in__', 5, 3, 1),
   10967500: ('__in__', 3, 2, 3),
   10967512: ('__in__', 2, 4, 0),
   10967524: ('__in__', 7, 3, 3)},
                             elt_data={  2: {  'caption': 'gensky',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 242.5,
         'posy': 352.5,
         'priority': 0},
   3: {  'caption': 'gensun',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 452.5,
         'posy': 338.75,
         'priority': 0},
   4: {  'caption': 'place_sun',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 437.5,
         'posy': 456.25,
         'priority': 0},
   5: {  'caption': 'merge2skies',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 325.0,
         'posy': 600.0,
         'priority': 0},
   '__in__': {  'caption': 'In',
                'hide': True,
                'lazy': True,
                'minimal': False,
                'port_hide_changed': set([]),
                'posx': 288.75,
                'posy': 181.25,
                'priority': 0},
   '__out__': {  'caption': 'Out',
                 'hide': True,
                 'lazy': True,
                 'minimal': False,
                 'port_hide_changed': set([]),
                 'posx': 362.5,
                 'posy': 663.75,
                 'priority': 0}},
                             elt_value={2: [], 3: [], 4: [], 5: [], '__in__': [], '__out__': []},
                             lazy=True,
                             )




Genlight_Genlight = Factory(name='write_light_file',
                description='Write a .light file',
                category='IO',
                nodemodule='Genlight',
                nodeclass='Genlight',
                inputs=[{'interface': ISequence, 'name': 'sky object', 'value': None}, {'interface': IFileStr, 'name': 'outfile name', 'value': 'sky.light'}],
                outputs=[{'interface': IFileStr, 'name': None}],
                widgetmodule=None,
                widgetclass=None,
               )




Filename_Filename = Factory(name='Filename',
                description='Build a filename function of group',
                category='io',
                nodemodule='Filename',
                nodeclass='Filename',
                inputs=[{'interface': IInt, 'name': 'Group', 'value': None, 'desc': ''}],
                outputs=[{'interface': None, 'name': 'name', 'desc': ''}],
                widgetmodule=None,
                widgetclass=None,
               )




GetLightsSun_GetLightsSun = Factory(name='GetLightSun',
                description='',
                category='data i/o',
                nodemodule='GetLightsSun',
                nodeclass='GetLightsSun',
                inputs=[{'interface': None, 'name': 'Sun object', 'value': None, 'desc': ''}],
                outputs=[{'interface': None, 'name': 'light string', 'desc': ''}],
                widgetmodule=None,
                widgetclass=None,
               )




group_seq_group_seq = Factory(name='group_seq',
                description='sequence of meteorological data indices',
                category='IO',
                nodemodule='group_seq',
                nodeclass='group_seq',
                inputs=[{'interface': None, 'name': 'meteo table', 'value': None}, {'interface': IInt, 'name': 'data group', 'value': None}],
                outputs=[{'interface': None, 'name': 'sequence'}],
                widgetmodule=None,
                widgetclass=None,
               )




Gensun_Gensun = Factory(name='gensun',
                description='Create a Sun object',
                category='scene.sky',
                nodemodule='Gensun',
                nodeclass='Gensun',
                inputs=[{'interface': IFloat, 'name': 'Rsun', 'value': 0.0}, {'interface': IInt, 'name': 'DOY', 'value': 1}, {'interface': IFloat, 'name': 'heureTU', 'value': 12}, {'interface': IFloat, 'name': 'lat', 'value': 49.869999999999997}],
                outputs=[{'interface': None, 'name': 'Sun object'}],
                widgetmodule=None,
                widgetclass=None,
               )




place_sun_place_sun = Factory(name='place_sun',
                description='Place sun light in a discretised sky',
                category='scene.light',
                nodemodule='place_sun',
                nodeclass='place_sun',
                inputs=[{'interface': IInt, 'name': 'Nb azimut', 'value': 8}, {'interface': IInt, 'name': 'Nb zenith', 'value': 6}, {'interface': None, 'name': 'sun object', 'value': None}],
                outputs=[{'interface': None, 'name': 'sky object'}],
                widgetmodule=None,
                widgetclass=None,
               )




SkyPlusSun = CompositeNodeFactory(name='SkyPlusSun',
                             description='demo for generating light file',
                             category='model',
                             doc='',
                             inputs=[],
                             outputs=[],
                             elt_factory={  2: ('alinea.Caribu.Sky_tools', 'gensun'),
   3: ('alinea.Caribu.Sky_tools', 'GetLightSun'),
   4: ('alinea.Caribu.Sky_tools', 'gensky'),
   5: ('alinea.Caribu.Sky_tools', 'GetLight'),
   6: ('openalea.math', '+'),
   7: ('openalea.flow control', 'annotation')},
                             elt_connections={  9855264: (3, 0, 6, 1),
   9855276: (5, 0, 6, 0),
   9855288: (4, 0, 5, 0),
   9855300: (2, 0, 3, 0)},
                             elt_data={  2: {  'block': False,
         'caption': 'gensun',
         'hide': True,
         'lazy': True,
         'port_hide_changed': set([]),
         'posx': 275.0,
         'posy': 95.0,
         'priority': 0,
         'user_application': None},
   3: {  'block': False,
         'caption': 'GetLightSun',
         'hide': True,
         'lazy': True,
         'port_hide_changed': set([]),
         'posx': 267.5,
         'posy': 183.75,
         'priority': 0,
         'user_application': None},
   4: {  'block': False,
         'caption': 'gensky',
         'hide': True,
         'lazy': True,
         'port_hide_changed': set([]),
         'posx': 141.25,
         'posy': 93.75,
         'priority': 0,
         'user_application': None},
   5: {  'block': False,
         'caption': 'GetLight',
         'hide': True,
         'lazy': True,
         'port_hide_changed': set([]),
         'posx': 150.0,
         'posy': 182.5,
         'priority': 0,
         'user_application': None},
   6: {  'block': False,
         'caption': '+',
         'hide': True,
         'lazy': True,
         'port_hide_changed': set([]),
         'posx': 235.0,
         'posy': 270.0,
         'priority': 0,
         'user_application': None},
   7: {  'posx': 32.5,
         'posy': 38.75,
         'txt': 'Generation of light file from 1 discrete sky + 1 sun position concatenated'},
   '__in__': {  'block': False,
                'caption': 'In',
                'hide': True,
                'lazy': True,
                'port_hide_changed': set([]),
                'posx': 20.0,
                'posy': 5.0,
                'priority': 0,
                'user_application': None},
   '__out__': {  'block': False,
                 'caption': 'Out',
                 'hide': True,
                 'lazy': True,
                 'port_hide_changed': set([]),
                 'posx': 20.0,
                 'posy': 250.0,
                 'priority': 0,
                 'user_application': None}},
                             elt_value={  2: [(0, '0.0'), (1, '1'), (2, '1.0'), (3, '49.869999999999997')],
   3: [],
   4: [(0, '1.0'), (1, "'soc'"), (2, '8'), (3, '6')],
   5: [],
   6: [],
   7: [],
   '__in__': [],
   '__out__': []},
                             lazy=True,
                             )




spitters_horaire_spitters_horaire = Factory(name='spitters_horaire',
                description='add RdRs to meteo table; use Rg measurements, hourly data',
                category='Unclassified',
                nodemodule='spitters_horaire',
                nodeclass='spitters_horaire',
                inputs=[{'interface': ISequence, 'name': 'meteo table', 'value': None}, {'interface': IFloat, 'name': 'latitude', 'value': 49.869999999999997}],
                outputs=[{'interface': ISequence, 'name': 'meteo table'}],
                widgetmodule=None,
                widgetclass=None,
               )




_65577712 = CompositeNodeFactory(name='GenSkies_Example',
                             description='Generate as many sky.light files as groups from the meteo table ',
                             category='scene.sky,composite',
                             doc='',
                             inputs=[],
                             outputs=[],
                             elt_factory={  2: ('alinea.Caribu.Sky_tools', 'GenSkyFile'),
   3: ('openalea.function operator', 'map'),
   4: ('openalea.flow control', 'X'),
   5: ('openalea.python method', 'range'),
   6: ('alinea.Caribu.Sky_tools', 'read_meteo_file'),
   7: ('openalea.data structure', 'float'),
   8: ('openalea.data structure', 'int'),
   9: ('openalea.data structure', 'int'),
   10: ('alinea.caribu.data', 'Meteo2006.csv')},
                             elt_connections={  9855216: (10, 0, 6, 0),
   9855228: (7, 0, 2, 5),
   9855240: (6, 0, 2, 0),
   9855252: (4, 0, 2, 1),
   9855264: (5, 0, 3, 1),
   9855276: (2, 0, 3, 0),
   9855288: (8, 0, 2, 3),
   9855300: (9, 0, 2, 4)},
                             elt_data={  2: {  'block': False,
         'caption': 'GenSkyFile',
         'hide': True,
         'lazy': True,
         'port_hide_changed': set([]),
         'posx': 372.5,
         'posy': 247.5,
         'priority': 0,
         'user_application': None},
   3: {  'block': False,
         'caption': 'map',
         'hide': True,
         'lazy': True,
         'port_hide_changed': set([]),
         'posx': 550.0,
         'posy': 367.5,
         'priority': 0,
         'user_application': None},
   4: {  'block': False,
         'caption': 'X4',
         'hide': True,
         'lazy': True,
         'port_hide_changed': set([]),
         'posx': 411.25,
         'posy': 52.5,
         'priority': 0,
         'user_application': None},
   5: {  'block': False,
         'caption': 'range',
         'hide': True,
         'lazy': True,
         'port_hide_changed': set([]),
         'posx': 653.75,
         'posy': 247.5,
         'priority': 0,
         'user_application': None},
   6: {  'block': False,
         'caption': 'read_meteo_file',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 149.02871305649114,
         'posy': 106.43760035963965,
         'priority': 0,
         'user_application': None},
   7: {  'block': False,
         'caption': '49.9',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 670.2585921092732,
         'posy': 52.415622431905604,
         'priority': 0,
         'user_application': None},
   8: {  'block': False,
         'caption': '4',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 527.34062014915526,
         'posy': 53.350778610569307,
         'priority': 0,
         'user_application': None},
   9: {  'block': False,
         'caption': '3',
         'hide': True,
         'lazy': True,
         'minimal': False,
         'port_hide_changed': set([]),
         'posx': 600.84413302772055,
         'posy': 52.415622431905604,
         'priority': 0,
         'user_application': None},
   10: {  'block': False,
          'caption': 'Meteo2006.csv',
          'hide': True,
          'lazy': True,
          'port_hide_changed': set([2]),
          'posx': 151.25,
          'posy': 30.0,
          'priority': 0,
          'user_application': None},
   '__in__': {  'caption': 'In',
                'hide': True,
                'lazy': True,
                'port_hide_changed': set([]),
                'posx': 20.0,
                'posy': 5.0,
                'priority': 0,
                'user_application': None},
   '__out__': {  'caption': 'Out',
                 'hide': True,
                 'lazy': True,
                 'port_hide_changed': set([]),
                 'posx': 20.0,
                 'posy': 250.0,
                 'priority': 0,
                 'user_application': None}},
                             elt_value={  2: [(2, 'None')],
   3: [],
   4: [(0, "'x'")],
   5: [(0, '0'), (1, '10'), (2, '1')],
   6: [],
   7: [(0, '49.869999999999997')],
   8: [(0, '4')],
   9: [(0, '3')],
   10: [  (0, 'PackageData(alinea.caribu.data, Meteo2006.csv)'),
          (1, 'None'),
          (2, 'None')],
   '__in__': [],
   '__out__': []},
                             lazy=True,
                             )




read_meteo_file_read_meteo_file = Factory(name='read_meteo_file',
                description='read a meteo file [DOY,HU,Rg(,RdRs),Group] and generate a list of table by Group',
                category='IO',
                nodemodule='read_meteo_file',
                nodeclass='read_meteo_file',
                inputs=[{'interface': IFileStr, 'name': 'meteo file', 'value': 'ex_RdRg_2J.csv'}],
                outputs=[{'interface': ISequence, 'name': 'meteo sequence'}],
                widgetmodule=None,
                widgetclass=None,
               )




